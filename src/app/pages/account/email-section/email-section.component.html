<h2 class="text-center my-4">Email Settings</h2>
Your current email is
<table class="table mt-2">
    <thead class="thead-dark">
        <tr>
            <th>{{user.email}}</th>
        </tr>
    </thead>
</table>
<button class="btn btn-primary btn-round" (click)="setEmailFormVisibility()">Click here</button> If you want to change
it
<div *ngIf="emailFormVisibility">
    <form class="mt-5" [formGroup]="newEmailForm" (ngSubmit)="submitNewEmail()">
        <div class="form-group">
            <label for="new-email">Your new Email</label>
            <input type="text" class="form-control" id="new-email" formControlName="newEmail">
            <div *ngIf="newEmailForm.invalid && newEmailForm.touched">
                <span style="color: red;">Invalid Email</span>
            </div>
        </div>
        <div class="form-group">
            <input type="checkbox" class="mr-2" (click)="clickEmailConfirmation()"
                [checked]="emailInformationConfirmationStatus" id="email-confirmation">
            <label for="email-confirmation">Are you sure you want to submit these changes</label>
        </div>
        <button type="submit" [disabled]="emailInformationDisabled" class="btn btn-success btn-round btn-lg">Change
            Email</button>
    </form>
</div>
<div *ngIf="emailConfirmationCodeVisibility">
    <h3>Almost there !</h3>
    <p>Check your old email for a verification code that you need to provide here</p>
    <p>Note that if you leave this page that code won't be helpful any more but the old password will be maintained</p>
    <form class="mt-5" [formGroup]="emailVerificationCodeForm" (ngSubmit)="submitEmailVerification()">
        <div class="form-group">
            <label for="">Verification Code</label>
            <input type="number" class="ml-2 form-control-sm" formControlName="verificationCode">
            <span class="text-danger" *ngIf="emailVerificationCodeForm.invalid && emailVerificationCodeForm.touched">
                please check your verification code
            </span>
        </div>
        <button type="submit" [disabled]="emailVerificationCodeForm.invalid"
            class="btn btn-success btn-round btn-lg">Verify</button>
    </form>
</div>